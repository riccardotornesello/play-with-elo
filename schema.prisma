// schema.prisma

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = "file:./dev.db"
}

model Match {
    id        String   @id @default(cuid())
    playedAt  DateTime @default(now())
    createdAt DateTime @default(now())

    homePlayerId String
    awayPlayerId String

    homeScore Int @default(0)
    awayScore Int @default(0)

    homeTeam String
    awayTeam String

    homePointsDifference Float @default(0)
    awayPointsDifference Float @default(0)

    homePlayer Player @relation("home_matches", fields: [homePlayerId], references: [id])
    awayPlayer Player @relation("away_matches", fields: [awayPlayerId], references: [id])
}

model Player {
    id       String @id @default(cuid())
    fullName String
    username String @unique
    elo      Float  @default(0)

    homeMatches Match[] @relation("home_matches")
    awayMatches Match[] @relation("away_matches")
}

model Admin {
    id           String @id @default(cuid())
    username     String @unique
    passwordHash String
    passwordSalt String
}
